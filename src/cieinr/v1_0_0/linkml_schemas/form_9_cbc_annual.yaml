id: https://github.com/BIH-CEI/cieinr/src/cieinr/v1_0_0/limkml_schemas/cbc_annual.yaml
name: cbc_annual
description: >
  Annual Complete Blood Count (CBC) form capturing test information including test type, 
  date, and lab measurements for haemoglobin, platelets, leukocytes, neutrophils, eosinophils, 
  lymphocytes, and monocytes.
prefixes:
  linkml: https://w3id.org/linkml/
  cieinr: https://github.com/BIH-CEI/cieinr
  NCIT: http://purl.obolibrary.org/obo/NCIT_
  LOINC: http://loinc.org/
  UO: http://purl.obolibrary.org/obo/UO_
imports:
  - linkml:types
  - cieinr_types
  - cieinr_code_systems
default_range: string
default_prefix: cieinr

classes:
  CBCAnnual:
    description: >
      Annual CBC measurements including the test type, capture date, and laboratory values.
    slots:
      - cbc_type_v2
      - cbc_date_v2
      - cbc_haemoglobin_v2
      - cbc_haemoglobin_unit_v2
      - cbc_haemoglobin_range_v2
      - cbc_haemoglobin_val_v2
      - cbc_platelets_v2
      - cbc_platelets_unit_v2
      - cbc_platelets_range_v2
      - cbc_platelets_val_v2
      - cbc_leukocytes_v2
      - cbc_leukocytes_unit_v2
      - cbc_leukocytes_range_v2
      - cbc_leukocytes_val_v2
      - cbc_neutrophils_v2
      - cbc_neutrophils_unit_v2
      - cbc_neutrophils_range_v2
      - cbc_neutrophils_val_v2
      - cbc_eosinophils_v2
      - cbc_eosinophils_unit_v2
      - cbc_eosinophils_range_v2
      - cbc_eosinophils_val_v2
      - cbc_lymphocytes_v2
      - cbc_lymphocytes_unit_v2
      - cbc_lymphocytes_range_v2
      - cbc_lymphocytes_val_v2
      - cbc_monocytes_v2
      - cbc_monocytes_unit_v2
      - cbc_monocytes_range_v2
      - cbc_monocytes_val_v2

slots:
  cbc_type_v2:
    title: CBC Type
    description: >
      Please select the appropriate box(es) depending on the information you are providing.
    range: CBCTypeEnum
    required: false

  cbc_date_v2:
    title: CBC Date
    description: Please enter the date of the CBC captured.
    range: union_date_string
    required: false

  cbc_haemoglobin_v2:
    title: CBC - Haemoglobin
    description: >
      Hemoglobin test. Upon selection, please enter the value in the separate field below.
      Click "reset" if the lab value was selected by mistake.
    range: HaemoglobinTestEnum
    required: false

  cbc_haemoglobin_unit_v2:
    title: Haemoglobin Unit
    description: Please select the unit for haemoglobin.
    range: HaemoglobinUnitEnum
    required: false
    # Branching: [cbc_haemoglobin_v2] <> ''

  cbc_haemoglobin_range_v2:
    title: Haemoglobin Range
    description: Please select the reference range for haemoglobin.
    range: LabRangeEnum
    required: false
    # Branching: [cbc_haemoglobin_v2] <> ''

  cbc_haemoglobin_val_v2:
    title: Hemoglobin Value
    description: Hemoglobin [g/dL] in Blood (Unit g/dL).
    range: decimal
    required: false
    # Branching: [cbc_haemoglobin_v2] <> ''

  cbc_platelets_v2:
    title: CBC - Platelets
    description: >
      Platelets test. Upon selection, please enter the value in the separate field below.
      Click "reset" if the lab value was selected by mistake.
    range: PlateletsTestEnum
    required: false

  cbc_platelets_unit_v2:
    title: Platelets Unit
    description: Please select the unit for platelets.
    range: BloodCellUnitEnum
    required: false
    # Branching: [cbc_platelets_v2] <> ''

  cbc_platelets_range_v2:
    title: Platelets Range
    description: Please select the reference range for platelets.
    range: LabRangeEnum
    required: false
    # Branching: [cbc_platelets_v2] <> ''

  cbc_platelets_val_v2:
    title: Platelets Value
    description: Platelets [10*9/L] in Blood (Unit 10*9/L).
    range: decimal
    required: false
    # Branching: [cbc_platelets_v2] <> ''

  cbc_leukocytes_v2:
    title: CBC - Leukocytes
    description: >
      Leukocytes test. Upon selection, please enter the value in the separate field below.
      Click "reset" if the lab value was selected by mistake.
    range: LeukocytesTestEnum
    required: false

  cbc_leukocytes_unit_v2:
    title: Leukocytes Unit
    description: Please select the unit for leukocytes.
    range: BloodCellUnitEnum
    required: false
    # Branching: [cbc_leukocytes_v2] <> ''

  cbc_leukocytes_range_v2:
    title: Leukocytes Range
    description: Please select the reference range for leukocytes.
    range: LabRangeEnum
    required: false
    # Branching: [cbc_leukocytes_v2] <> ''

  cbc_leukocytes_val_v2:
    title: Leukocytes Value
    description: Leukocytes [10*9/L] in Blood (Unit 10*9/L).
    range: decimal
    required: false
    # Branching: [cbc_leukocytes_v2] <> ''

  cbc_neutrophils_v2:
    title: CBC - Neutrophils
    description: >
      Neutrophils test. Upon selection, please enter the value in the separate field below.
      Click "reset" if the lab value was selected by mistake.
    range: NeutrophilsTestEnum
    required: false

  cbc_neutrophils_unit_v2:
    title: Neutrophils Unit
    description: Please select the unit for neutrophils.
    range: BloodCellUnitEnum
    required: false
    # Branching: [cbc_neutrophils_v2] <> ''

  cbc_neutrophils_range_v2:
    title: Neutrophils Range
    description: Please select the reference range for neutrophils.
    range: LabRangeEnum
    required: false
    # Branching: [cbc_neutrophils_v2] <> ''

  cbc_neutrophils_val_v2:
    title: Neutrophils Value
    description: Neutrophils [10*9/L] in Blood (Unit 10*9/L).
    range: decimal
    required: false
    # Branching: [cbc_neutrophils_v2] <> ''

  cbc_eosinophils_v2:
    title: CBC - Eosinophils
    description: >
      Eosinophils test. Upon selection, please enter the value in the separate field below.
      Click "reset" if the lab value was selected by mistake.
    range: EosinophilsTestEnum
    required: false

  cbc_eosinophils_unit_v2:
    title: Eosinophils Unit
    description: Please select the unit for eosinophils.
    range: BloodCellUnitEnum
    required: false
    # Branching: [cbc_eosinophils_v2] <> ''

  cbc_eosinophils_range_v2:
    title: Eosinophils Range
    description: Please select the reference range for eosinophils.
    range: LabRangeEnum
    required: false
    # Branching: [cbc_eosinophils_v2] <> ''

  cbc_eosinophils_val_v2:
    title: Eosinophils Value
    description: Eosinophils [10*9/L] in Blood (Unit 10*9/L).
    range: decimal
    required: false
    # Branching: [cbc_eosinophils_v2] <> ''

  cbc_lymphocytes_v2:
    title: CBC - Lymphocytes
    description: >
      Lymphocytes test. Upon selection, please enter the value in the separate field below.
      Click "reset" if the lab value was selected by mistake.
    range: LymphocytesTestEnum
    required: false

  cbc_lymphocytes_unit_v2:
    title: Lymphocytes Unit
    description: Please select the unit for lymphocytes.
    range: BloodCellUnitEnum
    required: false
    # Branching: [cbc_lymphocytes_v2] <> ''

  cbc_lymphocytes_range_v2:
    title: Lymphocytes Range
    description: Please select the reference range for lymphocytes.
    range: LabRangeEnum
    required: false
    # Branching: [cbc_lymphocytes_v2] <> ''

  cbc_lymphocytes_val_v2:
    title: Lymphocytes Value
    description: Lymphocytes [10*9/L] in Blood (Unit 10*9/L).
    range: decimal
    required: false
    # Branching: [cbc_lymphocytes_v2] <> ''

  cbc_monocytes_v2:
    title: CBC - Monocytes
    description: >
      Monocytes test. Upon selection, please enter the value in the separate field below.
      Click "reset" if the lab value was selected by mistake.
    range: MonocytesTestEnum
    required: false

  cbc_monocytes_unit_v2:
    title: Monocytes Unit
    description: Please select the unit for monocytes.
    range: BloodCellUnitEnum
    required: false
    # Branching: [cbc_monocytes_v2] <> ''

  cbc_monocytes_range_v2:
    title: Monocytes Range
    description: Please select the reference range for monocytes.
    range: LabRangeEnum
    required: false
    # Branching: [cbc_monocytes_v2] <> ''

  cbc_monocytes_val_v2:
    title: Monocytes Value
    description: Monocytes [10*9/L] in Blood (Unit 10*9/L).
    range: decimal
    required: false
    # Branching: [cbc_monocytes_v2] <> ''

enums:
  CBCTypeEnum:
    description: Types of CBC tests.
    permissible_values:
      ncit_c199317:
        description: Test before the time of diagnosis
        meaning: NCIT:C199317
      ncit_c158810:
        description: Test at time of Diagnosis
        meaning: NCIT:C158810
      ncit_c100059:
        description: Test after diagnosis
        meaning: NCIT:C100059
      ncit_c4647:
        description: Annual test
        meaning: NCIT:C4647

  HaemoglobinTestEnum:
    description: Hemoglobin test for CBC.
    permissible_values:
      loinc_718_7:
        description: Hemoglobin [g/dL] in Blood
        meaning: LOINC:718-7

  PlateletsTestEnum:
    description: Platelets test for CBC.
    permissible_values:
      loinc_777-3:
        description: Platelets [10*9/L] in Blood
        meaning: LOINC:777-3

  LeukocytesTestEnum:
    description: Leukocytes test for CBC.
    permissible_values:
      loinc_6690_2:
        description: Leukocytes [10*9/L] in Blood
        meaning: LOINC:6690-2

  NeutrophilsTestEnum:
    description: Neutrophils test for CBC.
    permissible_values:
      loinc_26499_4:
        description: Neutrophils [10*9/L] in Blood
        meaning: LOINC:26499-4

  EosinophilsTestEnum:
    description: Eosinophils test for CBC.
    permissible_values:
      loinc_26449_9:
        description: Eosinophils [10*9/L] in Blood
        meaning: LOINC:26449-9

  LymphocytesTestEnum:
    description: Lymphocytes test for CBC.
    permissible_values:
      loinc_26474_7:
        description: Lymphocytes [10*9/L] in Blood
        meaning: LOINC:26474-7

  MonocytesTestEnum:
    description: Monocytes test for CBC.
    permissible_values:
      loinc_26484_6:
        description: Monocytes [10*9/L] in Blood
        meaning: LOINC:26484-6

  HaemoglobinUnitEnum:
    description: Unit for haemoglobin.
    permissible_values:
      uo_0000208:
        description: g/dL
        meaning: UO:0000208

  BloodCellUnitEnum:
    description: Unit for blood cell counts.
    permissible_values:
      uo_0000179:
        description: 10*9/L
        meaning: UO:0000179

  LabRangeEnum:
    description: Interpretation of lab value ranges.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727
