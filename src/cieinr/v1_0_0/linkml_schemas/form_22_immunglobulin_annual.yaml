id: https://github.com/BIH-CEI/cieinr/src/cieinr/v1_0_0/limkml_schemas/form_immunoglobulin_evaluation_annual.yaml
name: immunoglobulin_evaluation_initial_2
description: >
  Annual immunoglobulin evaluation form capturing updated test date, replacement therapy status,
  and updated immunoglobulin assay results for IgG, IgA, IgM, and IgE.
prefixes:
  linkml: https://w3id.org/linkml/
  cieinr: https://github.com/BIH-CEI/cieinr
  NCIT: http://purl.obolibrary.org/obo/NCIT_
imports:
  - linkml:types
  - cieinr_types
  - cieinr_code_systems
default_range: string
default_prefix: cieinr

classes:
  ImmunoglobulinEvaluationAnnual:
    description: >
      Annual immunoglobulin evaluation with updated test date and assay results.
    slots:
      - immmunglobulin_test_date_v2
      - igrt_2
      - immmunglobulin_igg_int_v2
      - immmunglobulin_igg_val_v2
      - immmunglobulin_iga_int_v2
      - immmunglobulin_iga_val_v2
      - immmunglobulin_igm_int_v2
      - immmunglobulin_igm_val_v2
      - immmunglobulin_ige_int_v2
      - immmunglobulin_ige_val_v2
      - immmunglobulin_iga_v2
      - immmunglobulin_igm_v2
      - immmunglobulin_igg_v2
      - immmunglobulin_ige_v2

slots:
  immmunglobulin_test_date_v2:
    title: Immunoglobulin Evaluation Date
    description: >
      Date of the immunoglobulin evaluation (format: 01-M-Y).
    range: union_date_string
    required: false

  igrt_2:
    title: Immunoglobulin Replacement Therapy Status
    description: >
      Was the patient on immunoglobulin replacement therapy?
    range: IGRTResultEnum
    required: false

  immmunglobulin_igg_int_v2:
    title: IgG Value Interpretation
    description: >
      IgG value interpretation.
    range: ImmunoglobulinIgGInterpretationEnum
    required: false

  immmunglobulin_igg_val_v2:
    title: IgG Value
    description: >
      IgG [g/l] – Please provide value.
    range: decimal
    required: false

  immmunglobulin_iga_int_v2:
    title: IgA Value Interpretation
    description: >
      IgA value interpretation.
    range: ImmunoglobulinIgAInterpretationEnum
    required: false

  immmunglobulin_iga_val_v2:
    title: IgA Value
    description: >
      IgA [g/l] – Please provide value.
    range: decimal
    required: false

  immmunglobulin_igm_int_v2:
    title: IgM Value Interpretation
    description: >
      IgM value interpretation.
    range: ImmunoglobulinIgMInterpretationEnum
    required: false

  immmunglobulin_igm_val_v2:
    title: IgM Value
    description: >
      IgM [g/l] – Please provide value.
    range: decimal
    required: false

  immmunglobulin_ige_int_v2:
    title: IgE Value Interpretation
    description: >
      IgE value interpretation.
    range: ImmunoglobulinIgEInterpretationEnum
    required: false

  immmunglobulin_ige_val_v2:
    title: IgE Value
    description: >
      IgE [g/l] – Please provide value.
    range: decimal
    required: false

  immmunglobulin_iga_v2:
    title: Immunglobulin – IgA (to remove)
    description: >
      Immunglobulin – IgA (to remove)
    range: ImmunoglobulinIgATestEnum
    required: false

  immmunglobulin_igm_v2:
    title: Immunglobulin – IgM (to remove)
    description: >
      Immunglobulin – IgM (to remove)
    range: ImmunoglobulinIgMTestEnum
    required: false

  immmunglobulin_igg_v2:
    title: Immunglobulin – IgG (to remove)
    description: >
      Immunglobulin – IgG (to remove)
    range: ImmunoglobulinIgGTestEnum
    required: false

  immmunglobulin_ige_v2:
    title: Immunglobulin – IgE (to remove)
    description: >
      Immunglobulin – IgE (to remove)
    range: ImmunoglobulinIgETestEnum
    required: false

enums:
  IGRTResultEnum:
    description: Immunoglobulin replacement therapy status.
    permissible_values:
      "1":
        description: Yes
        meaning: 1
      "2":
        description: No
        meaning: 2

  ImmunoglobulinIgGInterpretationEnum:
    description: IgG interpretation.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727

  ImmunoglobulinIgAInterpretationEnum:
    description: IgA interpretation.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727

  ImmunoglobulinIgMInterpretationEnum:
    description: IgM interpretation.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727

  ImmunoglobulinIgEInterpretationEnum:
    description: IgE interpretation.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727

  ImmunoglobulinIgATestEnum:
    description: Options for IgA test.
    permissible_values:
      ncit_c565:
        description: IgA [g/l]
        meaning: NCIT:C565
      "2":
        description: not done
        meaning: 2

  ImmunoglobulinIgMTestEnum:
    description: Options for IgM test.
    permissible_values:
      ncit_c569:
        description: IgM [g/l]
        meaning: NCIT:C569
      "2":
        description: not done
        meaning: 2

  ImmunoglobulinIgGTestEnum:
    description: Options for IgG test.
    permissible_values:
      ncit_c568:
        description: IgG [g/l]
        meaning: NCIT:C568
      "2":
        description: not done
        meaning: 2

  ImmunoglobulinIgETestEnum:
    description: Options for IgE test.
    permissible_values:
      ncit_c567:
        description: IgE [g/l]
        meaning: NCIT:C567
      "2":
        description: not done
        meaning: 2
