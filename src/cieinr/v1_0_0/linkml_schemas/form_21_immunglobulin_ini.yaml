id: https://github.com/BIH-CEI/cieinr/src/cieinr/v1_0_0/limkml_schemas/form_immunoglobulin_evaluation.yaml
name: immunoglobulin_evaluation
description: >
  Initial immunoglobulin evaluation form capturing test timing, evaluation date, immunoglobulin replacement therapy status,
  and assay results for IgG, IgA, IgM, and IgE.
prefixes:
  linkml: https://w3id.org/linkml/
  cieinr: https://github.com/BIH-CEI/cieinr
  NCIT: http://purl.obolibrary.org/obo/NCIT_
imports:
  - linkml:types
  - cieinr_types
  - cieinr_code_systems
default_range: string
default_prefix: cieinr

classes:
  ImmunoglobulinEvaluation:
    description: >
      Initial immunoglobulin evaluation with test timing, evaluation date, replacement therapy status,
      and immunoglobulin assay results.
    slots:
      - type_immunologbulins_test
      - immmunglobulin_test_date
      - igrt_result
      - immmunglobulin_igg
      - immmunglobulin_igg_val
      - immmunglobulin_igg_int
      - immmunglobulin_iga
      - immmunglobulin_iga_val
      - immmunglobulin_iga_int
      - immmunglobulin_igm
      - immmunglobulin_igm_val
      - immmunglobulin_igm_int
      - immmunglobulin_ige
      - immmunglobulin_ige_val
      - immmunglobulin_ige_int

slots:
  type_immunologbulins_test:
    title: Immunoglobulin Test Timing
    description: >
      Please select the appropriate timing of the test.
    range: ImmunoglobulinTestTimingEnum
    required: false

  immmunglobulin_test_date:
    title: Immunoglobulin Evaluation Date
    description: >
      Date of the immunoglobulin evaluation (format: 01-M-Y).
    range: union_date_string
    required: false

  igrt_result:
    title: Immunoglobulin Replacement Therapy Status
    description: >
      Was the patient on immunoglobulin replacement at the time of this test?
    range: IGRTResultEnum
    required: false

  immmunglobulin_igg:
    title: Immunoglobulin – IgG Test
    description: >
      Immunglobulin – IgG test.
    range: ImmunoglobulinIgGTestEnum
    required: false

  immmunglobulin_igg_val:
    title: IgG Value
    description: >
      IgG [g/l] – Please provide value.
    range: decimal
    required: false

  immmunglobulin_igg_int:
    title: IgG Value Interpretation
    description: >
      IgG value interpretation.
    range: ImmunoglobulinIgGInterpretationEnum
    required: false

  immmunglobulin_iga:
    title: Immunoglobulin – IgA Test
    description: >
      Immunglobulin – IgA test.
    range: ImmunoglobulinIgATestEnum
    required: false

  immmunglobulin_iga_val:
    title: IgA Value
    description: >
      IgA [g/l] – Please provide value.
    range: decimal
    required: false

  immmunglobulin_iga_int:
    title: IgA Value Interpretation
    description: >
      IgA value interpretation.
    range: ImmunoglobulinIgAInterpretationEnum
    required: false

  immmunglobulin_igm:
    title: Immunoglobulin – IgM Test
    description: >
      Immunglobulin – IgM test.
    range: ImmunoglobulinIgMTestEnum
    required: false

  immmunglobulin_igm_val:
    title: IgM Value
    description: >
      IgM [g/l] – Please provide value.
    range: decimal
    required: false

  immmunglobulin_igm_int:
    title: IgM Value Interpretation
    description: >
      IgM value interpretation.
    range: ImmunoglobulinIgMInterpretationEnum
    required: false

  immmunglobulin_ige:
    title: Immunoglobulin – IgE Test
    description: >
      Immunglobulin – IgE test.
    range: ImmunoglobulinIgETestEnum
    required: false

  immmunglobulin_ige_val:
    title: IgE Value
    description: >
      IgE [g/l] – Please provide value.
    range: decimal
    required: false

  immmunglobulin_ige_int:
    title: IgE Value Interpretation
    description: >
      IgE value interpretation.
    range: ImmunoglobulinIgEInterpretationEnum
    required: false

enums:
  ImmunoglobulinTestTimingEnum:
    description: Options for immunoglobulin test timing.
    permissible_values:
      ncit_c199317:
        description: Test before the time of diagnosis – to remove
        meaning: NCIT:C199317
      ncit_c158810:
        description: Test at time of Diagnosis – to remove
        meaning: NCIT:C158810
      ncit_c100059:
        description: Test after diagnosis – to remove
        meaning: NCIT:C100059
      ncit_c4647:
        description: Most recent test
        meaning: NCIT:C4647
      "1":
        description: Before the time of diagnosis of IEI and initiation of immunoglobulin replacement, if available
        meaning: 1

  IGRTResultEnum:
    description: Immunoglobulin replacement therapy status.
    permissible_values:
      "1":
        description: Yes
        meaning: 1
      "2":
        description: No
        meaning: 2

  ImmunoglobulinIgGTestEnum:
    description: Options for IgG test.
    permissible_values:
      ncit_c568:
        description: IgG [g/l]
        meaning: NCIT:C568
      "2":
        description: not done
        meaning: 2

  ImmunoglobulinIgGInterpretationEnum:
    description: IgG interpretation.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727

  ImmunoglobulinIgATestEnum:
    description: Options for IgA test.
    permissible_values:
      ncit_c565:
        description: IgA [g/l]
        meaning: NCIT:C565
      "2":
        description: not done
        meaning: 2

  ImmunoglobulinIgAInterpretationEnum:
    description: IgA interpretation.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727

  ImmunoglobulinIgMTestEnum:
    description: Options for IgM test.
    permissible_values:
      ncit_c569:
        description: IgM [g/l]
        meaning: NCIT:C569
      "2":
        description: not done
        meaning: 2

  ImmunoglobulinIgMInterpretationEnum:
    description: IgM interpretation.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727

  ImmunoglobulinIgETestEnum:
    description: Options for IgE test.
    permissible_values:
      ncit_c567:
        description: IgE [g/l]
        meaning: NCIT:C567
      "2":
        description: not done
        meaning: 2

  ImmunoglobulinIgEInterpretationEnum:
    description: IgE interpretation.
    permissible_values:
      ncit_c78801:
        description: Below age-related reference range
        meaning: NCIT:C78801
      ncit_c78800:
        description: Within age-related reference range
        meaning: NCIT:C78800
      ncit_c78727:
        description: Above age-related reference range
        meaning: NCIT:C78727
