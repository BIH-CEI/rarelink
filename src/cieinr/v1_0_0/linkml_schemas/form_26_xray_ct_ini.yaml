id: https://github.com/BIH-CEI/cieinr/src/cieinr/v1_0_0/limkml_schemas/form_pft_chest_xray_ct.yaml
name: pft_test_chest_xray_chest_ctscan
description: >
  Initial form capturing details of a pulmonary function test (PFT), chest x‐ray, and CT chest.
prefixes:
  linkml: https://w3id.org/linkml/
  cieinr: https://github.com/BIH-CEI/cieinr
  SNOMEDCT: http://purl.obolibrary.org/obo/SNOMEDCT_
  NCIT: http://purl.obolibrary.org/obo/NCIT_
imports:
  - linkml:types
  - cieinr_types
  - cieinr_code_systems
default_range: string
default_prefix: cieinr

classes:
  PFTChestXrayCT:
    description: >
      Initial test form capturing details of PFT, chest x‐ray, and CT chest.
    slots:
      - completion_date_pft
      - procedure_1
      - date_pft_annual
      - date_chest_xray
      - fev1_annual
      - xray_results_annual
      - pdf_chest_xray_annual
      - hrct_result_annual
      - pdf_chest_ct_annual
      - other_investigations_1

slots:
  completion_date_pft:
    title: Date of Completion of Form
    description: Date of completion of this form (format: 01-M-Y).
    range: union_date_string
    required: false

  procedure_1:
    title: Test Performed
    description: Please choose the test performed.
    range: Procedure1Enum
    required: false

  date_pft_annual:
    title: Test Date
    description: What was the date of the test? (format: 01-M-Y).
    range: union_date_string
    required: false

  date_chest_xray:
    title: Chest X-ray Timing
    description: Please provide the time point when the test was done.
    range: ChestXrayTimingEnum
    required: false

  fev1_annual:
    title: FEV1 (% of predicted)
    description: What was the FEV1 (% of predicted)?
    range: string
    required: false

  xray_results_annual:
    title: Chest X-ray Results
    description: Please indicate the results of the chest x-ray.
    range: XrayResultEnum
    required: false

  pdf_chest_xray_annual:
    title: Chest X-ray PDF
    description: Please upload the chest x-ray pdf test results. REMOVE PATIENT'S PERSONAL INFORMATION.
    range: file
    required: false

  hrct_result_annual:
    title: CT Chest Results
    description: Please indicate the results of the CT chest.
    range: CTResultEnum
    required: false

  pdf_chest_ct_annual:
    title: CT Chest PDF
    description: Please upload the CT chest pdf test results. REMOVE PATIENT'S PERSONAL INFORMATION.
    range: file
    required: false

  other_investigations_1:
    title: Other Investigations Comments
    description: Please comment if other investigations were done and the result (MRIs, CT scans, X-rays).
    range: string
    required: false

enums:
  Procedure1Enum:
    description: Options for the test performed.
    permissible_values:
      snomedct_23426006:
        description: PFT test
        meaning: SNOMEDCT:23426006
      snomedct_399208008:
        description: Chest x-ray
        meaning: SNOMEDCT:399208008
      snomedct_169069000:
        description: CT chest
        meaning: SNOMEDCT:169069000
      "4":
        description: none
        meaning: 4

  ChestXrayTimingEnum:
    description: Timing for chest x-ray test.
    permissible_values:
      ncit_c199317:
        description: Before the time of diagnosis of IEI and initiation of any treatment, if available
        meaning: NCIT:C199317
      ncit_c100059:
        description: Test after diagnosis (to remove)
        meaning: NCIT:C100059
      "3":
        description: Most recent test
        meaning: 3

  XrayResultEnum:
    description: Chest x-ray result.
    permissible_values:
      ncit_c14165:
        description: normal
        meaning: NCIT:C14165
      ncit_c25401:
        description: abnormal
        meaning: NCIT:C25401

  CTResultEnum:
    description: CT chest result.
    permissible_values:
      ncit_c14165:
        description: normal
        meaning: NCIT:C14165
      ncit_c25401:
        description: abnormal
        meaning: NCIT:C25401
